#+ endpoint: http://fuseki:3030/potato/query
#+ method: GET
#+ summary: Retrieves the Crop that is grown on the parcel that contains the given GPS coordinate. For example, use lat=52.75707 and long=5.90386.

PREFIX spatial: <http://jena.apache.org/spatial#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX wkt: <http://www.opengis.net/ont/geosparql#>
PREFIX potato: <http://ontology.tno.nl/foodcube/potato/>

SELECT ?place ?parcelCrop { ?place spatial:intersectBox(?_lat ?_long ?_lat ?_long) . OPTIONAL { ?place potato:grows ?crop . ?crop potato:name ?parcelCrop . } }
